# LGM - Turn-based Strategy Game

## Overview
LGM is a turn-based strategy game with a TypeScript backend API and Vue 3 frontend client. This server was generated by the [swagger-codegen](https://github.com/swagger-api/swagger-codegen) project using the [OpenAPI-Spec](https://github.com/OAI/OpenAPI-Specification).

## Quick Start with Nix (Recommended)

For the easiest setup, use the provided Nix development environment:

```bash
# Install Nix (if not already installed)
# https://nixos.org/download.html

# Enter the development environment
nix-shell

# Install dependencies and start both servers
startup-servers
```

This provides Node.js, npm, git, and helpful development tools. See [NIX_SETUP.md](NIX_SETUP.md) for detailed instructions.

## Manual Setup

### Running the API server (manual setup)
To run the server manually, first ensure you have Node.js 20.x and npm installed, then:

```bash
# Create required symlink
ln -s api lib

# Install dependencies and start API server
cd api
npm install
npm start  # Production server on port 3000
# OR
npm run monitor  # Development server with auto-restart
```

### Running the Frontend (manual setup)
```bash
# Install dependencies and start frontend
cd client  
npm install
npm run dev  # Development server on port 5173
```

### Tests

Run `npm test`.

Some tests only run if an env var is set:

`RUN_E2E_TESTS=true npm test`

or 

`RUN_E2E_TESTS=true npx mocha built/test/e2e.js` for just the e2e tests.


### Running Stryker.js Mutation Testing Locally

Run `npz stryker run --config-file stryker.conf.js` in the root directory of the project.

Stryker.js will perform mutation testing and provide a report on the code coverage.

# Architecture & Development

## üìã Architecture Documentation
For comprehensive architecture assessment and improvement recommendations, see:

- **[Architecture Assessment](ARCHITECTURE_ASSESSMENT.md)** - Detailed technical analysis and roadmap
- **[Architecture Checklist](ARCHITECTURE_CHECKLIST.md)** - Systematic review against best practices  
- **[Improvement Suggestions](IMPROVEMENT_SUGGESTIONS.md)** - Prioritized, actionable improvements
- **[Architecture Index](docs/ARCHITECTURE_INDEX.md)** - Quick reference and overview

## üõ£Ô∏è Development Roadmap
See [ROADMAP.md](ROADMAP.md) for current development priorities and [PLAYER_MANAGEMENT_IMPLEMENTATION_PLAN.md](PLAYER_MANAGEMENT_IMPLEMENTATION_PLAN.md) for detailed feature planning.

# TODO

Joining games
  - should limit number of players in a game
  - owner sets player limit is set when game is created
  - cannot join twice with the same user session
  - user session may be joined to many games

Game world
  - API to get state of the world for a given turn
